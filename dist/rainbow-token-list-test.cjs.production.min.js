"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var r=require("zod"),t=require("lodash"),o=e(require("lodash/filter")),n=e(require("lodash/matchesProperty")),a=e(require("lodash/partition")),c=e(require("lodash/isPlainObject")),i=e(require("lodash/isString")),s=e(require("lodash/mapValues")),u=e(require("lodash/pick")),l=e(require("mkdirp")),d=require("graceful-fs"),f=require("path"),p=e(require("degit")),m=require("os"),b=e(require("p-limit")),h=require("@ethersproject/address"),C=e(require("lodash/mapKeys")),A=e(require("lodash/isEmpty")),v=e(require("lodash/compact")),x=e(require("lodash/unionBy")),E=e(require("get-svg-colors")),y=e(require("make-color-more-chill")),F=e(require("node-fetch")),D=r.string().url().nonempty(),B=r.record(D),w={aave:"https://tokenlist.aave.eth.link",coingecko:"https://tokens.coingecko.com/uniswap/all.json",dharma:"https://tokenlist.dharma.eth.link",kleros:"http://t2crtokens.eth.link",roll:"https://app.tryroll.com/tokens.json",synthetix:"https://synths.snx.eth.link",wrapped:"http://wrapped.tokensoft.eth.link"},g=r.enum(["aave","coingecko","dharma","kleros","roll","synthetix","wrapped"]),k=r.object({blog:r.string().optional(),chat:r.string().optional(),discord:r.string().optional(),facebook:r.string().optional(),forum:r.string().optional(),github:r.string().optional(),gitter:r.string().optional(),instagram:r.string().optional(),linkedin:r.string().optional(),medium:r.string().optional(),reddit:r.string().optional(),slack:r.string().optional(),telegram:r.string().optional(),twitter:r.string().optional(),youtube:r.string().optional()}),S=r.object({new_address:r.string().optional()}),T=r.object({color:r.string().optional(),isRainbowCurated:r.boolean().optional(),isVerified:r.boolean().optional(),shadowColor:r.string().optional()}),O=r.object({address:r.string().regex(/^0x[a-fA-F0-9]{40}$/),chainId:r.number().optional(),decimals:r.number().min(0),deprecation:S.optional(),extensions:T.optional(),name:r.string(),social:k.optional(),symbol:r.string(),website:r.string().optional()}),L=r.object({address:r.string(),decimals:r.union([r.string(),r.number()]),name:r.string(),symbol:r.string()}),j=r.object({address:r.string().optional(),decimals:r.union([r.string(),r.number()]).optional(),deprecation:S.optional(),name:r.string().optional(),social:k.optional(),symbol:r.string().optional(),website:r.string().optional()}),N={__proto__:null,PRODUCTION:!0,CONTRACT_MAP_REPO:"metamask/eth-contract-metadata",ETHEREUM_LISTS_REPO:"ethereum-lists/tokens/tokens/eth",TokenListItemSchema:D,TokenListTypeSchema:B,TOKEN_LISTS:w,TokenListEnumSchema:g,SocialSchema:k,TokenDeprecationSchema:S,TokenExtensionsSchema:T,TokenSchema:O,RawContractMapTokenSchema:L,RawEthereumListsTokenSchema:j};function I(e,r,t,o,n,a,c){try{var i=e[a](c),s=i.value}catch(e){return void t(e)}i.done?r(s):Promise.resolve(s).then(o,n)}function R(e){return function(){var r=this,t=arguments;return new Promise((function(o,n){var a=e.apply(r,t);function c(e){I(a,o,n,c,i,"next",e)}function i(e){I(a,o,n,c,i,"throw",e)}c(void 0)}))}}function U(){return(U=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function P(e,r){if(null==e)return{};var t,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r.indexOf(t=a[o])>=0||(n[t]=e[t]);return n}var _,M=(function(e){var r=function(e){var r=Object.prototype,t=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function i(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{i({},"")}catch(e){i=function(e,r,t){return e[r]=t}}function s(e,r,t,o){var n=Object.create((r&&r.prototype instanceof d?r:d).prototype),a=new F(o||[]);return n._invoke=function(e,r,t){var o="suspendedStart";return function(n,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===n)throw a;return{value:void 0,done:!0}}for(t.method=n,t.arg=a;;){var c=t.delegate;if(c){var i=x(c,t);if(i){if(i===l)continue;return i}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===o)throw o="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);o="executing";var s=u(e,r,t);if("normal"===s.type){if(o=t.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:t.done}}"throw"===s.type&&(o="completed",t.method="throw",t.arg=s.arg)}}}(e,t,a),n}function u(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l={};function d(){}function f(){}function p(){}var m={};m[n]=function(){return this};var b=Object.getPrototypeOf,h=b&&b(b(D([])));h&&h!==r&&t.call(h,n)&&(m=h);var C=p.prototype=d.prototype=Object.create(m);function A(e){["next","throw","return"].forEach((function(r){i(e,r,(function(e){return this._invoke(r,e)}))}))}function v(e,r){var o;this._invoke=function(n,a){function c(){return new r((function(o,c){!function o(n,a,c,i){var s=u(e[n],e,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&t.call(d,"__await")?r.resolve(d.__await).then((function(e){o("next",e,c,i)}),(function(e){o("throw",e,c,i)})):r.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,i)}))}i(s.arg)}(n,a,o,c)}))}return o=o?o.then(c,c):c()}}function x(e,r){var t=e.iterator[r.method];if(void 0===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=void 0,x(e,r),"throw"===r.method))return l;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var o=u(t,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,l;var n=o.arg;return n?n.done?(r[e.resultName]=n.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):n:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,l)}function E(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function y(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function D(e){if(e){var r=e[n];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(t.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=void 0,r.done=!0,r};return a.next=a}}return{next:B}}function B(){return{value:void 0,done:!0}}return f.prototype=C.constructor=p,p.constructor=f,f.displayName=i(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===f||"GeneratorFunction"===(r.displayName||r.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},A(v.prototype),v.prototype[a]=function(){return this},e.AsyncIterator=v,e.async=function(r,t,o,n,a){void 0===a&&(a=Promise);var c=new v(s(r,t,o,n),a);return e.isGeneratorFunction(t)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},A(C),i(C,c,"Generator"),C[n]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var r=[];for(var t in e)r.push(t);return r.reverse(),function t(){for(;r.length;){var o=r.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=D,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!e)for(var r in this)"t"===r.charAt(0)&&t.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(t,o){return c.type="throw",c.arg=e,r.next=t,o&&(r.method="next",r.arg=void 0),!!o}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var i=t.call(a,"catchLoc"),s=t.call(a,"finallyLoc");if(i&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,r){for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o];if(n.tryLoc<=this.prev&&t.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var c=a?a.completion:{};return c.type=e,c.arg=r,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(c)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),l},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),y(t),l}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var o=t.completion;if("throw"===o.type){var n=o.arg;y(t)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,t){return this.delegate={iterator:D(e),resultName:r,nextLoc:t},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}}(_={exports:{}}),_.exports),q=function(e){return void 0!==e.message&&void 0!==e.code},V=function(e){return q(e)?e.message:e},G=function(){var e=R(M.mark((function e(r){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.promises.readFile(r,"utf8");case 3:return e.abrupt("return",JSON.parse(e.sent));case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Failed to parse file "+r+": "+V(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),K=function(e){var r=U({},u(e,Object.keys(j.shape)),{deprecation:u(e.deprecation,Object.keys(S.shape)),social:u(e.social,Object.keys(k.shape))});return U({},O.parse(r),{social:k.parse(r.social)})},W=function(e){return e.sort((function(e,r){return e.symbol.localeCompare(r.symbol)}))},Y=function(){var e=R(M.mark((function e(r){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.promises.access(r);case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),!q(e.t0)){e.next=11;break}if("ENOENT"===e.t0.code){e.next=10;break}throw new Error("Failed to create output folder: "+V(e.t0));case 10:l.sync(r);case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(r){return e.apply(this,arguments)}}(),H=function(e){return function e(r,t){return c(r)?s(r,(function(r){return e(r,t)})):t(r)}(e,(function(e){return i(e)?e.trim():e}))},X=function(){var e=R(M.mark((function e(r,t,o){var n;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:return n=JSON.stringify(r,null,2),e.abrupt("return",d.promises.writeFile(f.resolve(t,o),n,"utf8"));case 4:case"end":return e.stop()}}),e)})));return function(r,t,o){return e.apply(this,arguments)}}(),J=function(){var e=R(M.mark((function e(r){var t,o,n,a;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.tmpdir(),o=p(r,{cache:!1,force:!0,verbose:!1}),n=r.split("/").slice(0,2).join("/"),a=f.resolve(t,n),console.log("Fetching "+r),e.next=8,o.clone(a);case 8:return console.log("Success."),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function Z(e){return $.apply(this,arguments)}function $(){return($=R(M.mark((function e(r){var t,o,n,a,c;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.dir,o=r.fileMap,a=b(void 0===(n=r.limit)?10:n),t=f.resolve(t),e.next=5,d.promises.readdir(t);case 5:return c=e.sent.map((function(e){return R(M.mark((function r(){return M.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o(f.resolve(t,e));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))})),e.next=9,Promise.all(c.map((function(e){return a(R(M.mark((function r(){return M.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e();case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)}))))})));case 9:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=function(e){var r=a(e,(function(r){return 1===o(e,["symbol",r.symbol]).length}));return[r[0],r[1]]};function Q(e){return e.map((function(r){var t=r.deprecation,o=P(r,["deprecation"]);return null!=t&&t.new_address&&e.find(n("address",t.new_address))||o}))}function ee(e){return re.apply(this,arguments)}function re(){return(re=R(M.mark((function e(r){var t;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=R(M.mark((function e(r){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(r);case 2:return e.abrupt("return",K(e.sent));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.next=3,Z({dir:r,fileMap:t});case 3:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return oe.apply(this,arguments)}function oe(){return(oe=R(M.mark((function e(){var r;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("ethereum-lists/tokens/tokens/eth");case 2:return r=e.sent,e.next=5,ee(r).then(Q).then(z);case 5:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne={eth:{color:"#29292E",isCurated:!0,name:"Ethereum"},"0xaa6e8127831c9de45ae56bb1b0d4d4da6e5665bd":{color:"#29292E",isCurated:!0,name:"2x Leveraged ETH",symbol:"ETH2XFLI"},"0xE41d2489571d322189246DaFA5ebDe1F4699F498":{color:"#29292E",isCurated:!0,name:"0x"},"0x111111111117dc0aa78b770fa6a738034120c302":{color:"#21324D",isCurated:!0,name:"1inch"},"0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9":{color:"#7285B2",isCurated:!0,name:"Aave",symbol:"AAVE"},"0xba3D9687Cf50fE253cd2e1cFeEdE1d6787344Ed5":{color:"#7285B2",name:"Aave v1 AAVE",shadowColor:"#7285B2",symbol:"aAAVE"},"0xE1BA0FB44CCb0D11b80F92f4f8Ed94CA3fF51D00":{color:"#FF5000",name:"Aave v1 BAT",shadowColor:"#7285B2",symbol:"aBAT"},"0x6Ee0f7BB50a54AB5253dA0667B0Dc2ee526C30a8":{color:"#F3BA2F",name:"Aave v1 BUSD",shadowColor:"#7285B2",symbol:"aBUSD"},"0xfC1E690f61EFd961294b3e1Ce3313fBD8aa4f85d":{color:"#F0B340",name:"Aave v1 DAI",shadowColor:"#7285B2",symbol:"aDAI"},"0x712DB54daA836B53Ef1EcBb9c6ba3b9Efb073F40":{color:"#25292E",name:"Aave v1 ENJ",shadowColor:"#7285B2",symbol:"aENJ"},"0x3a3A65aAb0dd2A17E3F1947bA16138cd37d08c04":{color:"#25292E",name:"Aave v1 ETH",shadowColor:"#7285B2",symbol:"aETH"},"0x9D91BE44C06d373a8a226E1f3b146956083803eB":{color:"#31CB9E",name:"Aave v1 KNC",shadowColor:"#7285B2",symbol:"aKNC"},"0x7D2D3688Df45Ce7C552E19c27e007673da9204B8":{color:"#109FCA",name:"Aave v1 LEND",shadowColor:"#7285B2",symbol:"aLEND"},"0xA64BD6C70Cb9051F6A9ba1F163Fdc07E0DfB5F84":{color:"#1A56F0",name:"Aave v1 LINK",shadowColor:"#7285B2",symbol:"aLINK"},"0x6FCE4A401B6B80ACe52baAefE4421Bd188e76F6f":{color:"#FF2D55",name:"Aave v1 MANA",shadowColor:"#7285B2",symbol:"aMANA"},"0x7deB5e830be29F91E298ba5FF1356BB7f8146998":{color:"#1AAB9B",name:"Aave v1 MKR",shadowColor:"#7285B2",symbol:"aMKR"},"0x69948cC03f478B95283F7dbf1CE764d0fc7EC54C":{color:"#00224D",name:"Aave v1 REN",shadowColor:"#7285B2",symbol:"aREN"},"0x71010A9D003445aC60C4e6A7017c1E89A477B438":{color:"#25292E",name:"Aave v1 REP",shadowColor:"#7285B2",symbol:"aREP"},"0x328C4c80BC7aCa0834Db37e6600A6c49E12Da4DE":{color:"#25292E",name:"Aave v1 SNX",shadowColor:"#7285B2",symbol:"aSNX"},"0x625aE63000f46200499120B906716420bd059240":{color:"#25292E",name:"Aave v1 sUSD",shadowColor:"#7285B2",symbol:"aSUSD"},"0x4DA9b813057D04BAef4e5800E36083717b4a0341":{color:"#002868",name:"Aave v1 TUSD",shadowColor:"#7285B2",symbol:"aTUSD"},"0xB124541127A0A657f056D9Dd06188c4F1b0e5aab":{color:"#FD017A",name:"Aave v1 UNI",shadowColor:"#7285B2",symbol:"aUNI"},"0x9bA00D6856a4eDF4665BcA2C2309936572473B7E":{color:"#2775CA",name:"Aave v1 USDC",shadowColor:"#7285B2",symbol:"aUSDC"},"0x71fc860F7D3A592A4a98740e39dB31d25db65ae8":{color:"#22A079",name:"Aave v1 USDT",shadowColor:"#7285B2",symbol:"aUSDT"},"0xFC4B8ED459e00e5400be803A9BB3954234FD50e3":{color:"#FF9900",name:"Aave v1 WBTC",shadowColor:"#7285B2",symbol:"aWBTC"},"0x12e51E77DAAA58aA0E9247db7510Ea4B46F9bEAd":{color:"#0072F6",name:"Aave v1 YFI",shadowColor:"#7285B2",symbol:"aYFI"},"0x6Fb0855c404E09c47C3fBCA25f08d4E41f9F062f":{color:"#25292E",name:"Aave v1 ZRX",shadowColor:"#7285B2",symbol:"aZRX"},"0xFFC97d72E13E01096502Cb8Eb52dEe56f74DAD7B":{color:"#7285B2",name:"Aave AAVE",shadowColor:"#7285B2",symbol:"aAAVE"},"0x05Ec93c0365baAeAbF7AefFb0972ea7ECdD39CF1":{color:"#FF5000",name:"Aave BAT",shadowColor:"#7285B2",symbol:"aBAT"},"0xA361718326c15715591c299427c62086F69923D9":{color:"#F3BA2F",name:"Aave BUSD",shadowColor:"#7285B2",symbol:"aBUSD"},"0x028171bCA77440897B824Ca71D1c56caC55b68A3":{color:"#F0B340",name:"Aave DAI",shadowColor:"#7285B2",symbol:"aDAI"},"0xaC6Df26a590F08dcC95D5a4705ae8abbc88509Ef":{color:"#25292E",name:"Aave ENJ",shadowColor:"#7285B2",symbol:"aENJ"},"0x030bA81f1c18d280636F32af80b9AAd02Cf0854e":{color:"#25292E",name:"Aave WETH",shadowColor:"#7285B2",symbol:"aWETH"},"0x39C6b3e42d6A679d7D776778Fe880BC9487C2EDA":{color:"#31CB9E",name:"Aave KNC",shadowColor:"#7285B2",symbol:"aKNC"},"0xa06bC25B5805d5F8d82847D191Cb4Af5A3e873E0":{color:"#1A56F0",name:"Aave LINK",shadowColor:"#7285B2",symbol:"aLINK"},"0xa685a61171bb30d4072B338c80Cb7b2c865c873E":{color:"#FF2D55",name:"Aave MANA",shadowColor:"#7285B2",symbol:"aMANA"},"0xc713e5E149D5D0715DcD1c156a020976e7E56B88":{color:"#1AAB9B",name:"Aave MKR",shadowColor:"#7285B2",symbol:"aMKR"},"0xCC12AbE4ff81c9378D670De1b57F8e0Dd228D77a":{color:"#00224D",name:"Aave REN",shadowColor:"#7285B2",symbol:"aREN"},"0x35f6B052C598d933D69A4EEC4D04c73A191fE6c2":{color:"#25292E",name:"Aave SNX",shadowColor:"#7285B2",symbol:"aSNX"},"0x6C5024Cd4F8A59110119C56f8933403A539555EB":{color:"#25292E",name:"Aave sUSD",shadowColor:"#7285B2",symbol:"aSUSD"},"0x101cc05f4A51C0319f570d5E146a8C625198e636":{color:"#002868",name:"Aave TUSD",shadowColor:"#7285B2",symbol:"aTUSD"},"0xB9D7CB55f463405CDfBe4E90a6D2Df01C2B92BF1":{color:"#FD017A",name:"Aave UNI",shadowColor:"#7285B2",symbol:"aUNI"},"0xBcca60bB61934080951369a648Fb03DF4F96263C":{color:"#2775CA",name:"Aave USDC",shadowColor:"#7285B2",symbol:"aUSDC"},"0x3Ed3B47Dd13EC9a98b44e6204A523E766B225811":{color:"#22A079",name:"Aave USDT",shadowColor:"#7285B2",symbol:"aUSDT"},"0x9ff58f4fFB29fA2266Ab25e75e2A8b3503311656":{color:"#FF9900",name:"Aave WBTC",shadowColor:"#7285B2",symbol:"aWBTC"},"0x5165d24277cD063F5ac44Efd447B27025e888f37":{color:"#0072F6",name:"Aave YFI",shadowColor:"#7285B2",symbol:"aYFI"},"0xDf7FF54aAcAcbFf42dfe29DD6144A69b629f8C9e":{color:"#25292E",name:"Aave ZRX",shadowColor:"#7285B2",symbol:"aZRX"},"0xff20817765cb7f73d4bde2e66e067e58d11095c2":{color:"#D9327C",isCurated:!0,name:"Amp"},"0xd46ba6d942050d489dbd938a2c909a5d5039a161":{color:"#25292E",isCurated:!0,name:"Ampleforth"},"0xa117000000f279d81a1d3cc75430faa017fa5a2e":{color:"#06BCE5",isCurated:!0,name:"Aragon"},"0x221657776846890989a759BA2973e427DfF5C9bB":{color:"#25292E",isCurated:!0,name:"Augur"},"0xba100000625a3754423978a60c9317c58a424e3d":{isCurated:!0,name:"Balancer",symbol:"BAL"},"0x1F573D6Fb3F13d689FF844B4cE37794d79a7FF1C":{color:"#00224D",isCurated:!0,name:"Bancor"},"0x68a118ef45063051eac49c7e647ce5ace48a68a5":{color:"#00ADD5",isCurated:!0,name:"Based Money",symbol:"$BASED"},"0x0D8775F648430679A709E98d2b0Cb6250d2887EF":{color:"#FF5000",isCurated:!0,name:"Basic Attention Token"},"0x107c4504cd79C5d2696Ea0030a8dD4e92601B82e":{color:"#6067F1",isCurated:!0,name:"Bloom"},"0x514910771AF9Ca656af840dff83E8264EcF986CA":{color:"#1A56F0",isCurated:!0,name:"Chainlink"},"0x41e5560054824eA6B0732E656E3Ad64E20e94E45":{color:"#3AB03E",isCurated:!0,name:"Civic"},"0xc00e94cb662c3520282e6f5717214004a7f26888":{color:"#00D395",isCurated:!0,name:"Compound",shadowColor:"#25292E"},"0x6c8c6b02e7b2be14d4fa6022dfd6d75921d90e4e":{color:"#9669ED",isCurated:!0,name:"Compound BAT",symbol:"cBAT"},"0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643":{color:"#9669ED",isCurated:!0,name:"Compound DAI",symbol:"cDAI"},"0xF5DCe57282A584D2746FaF1593d3121Fcac444dC":{color:"#9669ED",name:"Compound SAI",symbol:"cSAI"},"0x39aa39c021dfbae8fac545936693ac917d5e7563":{color:"#9669ED",isCurated:!0,name:"Compound USDC",symbol:"cUSDC"},"0xc11b1268c1a384e55c48c2391d8d480264a3a7f4":{color:"#9669ED",isCurated:!0,name:"Compound WBTC",symbol:"cWBTC"},"0xD533a949740bb3306d119CC777fa900bA034cd52":{isCurated:!0,name:"Curve DAO Token",symbol:"CRV"},"0xB4272071eCAdd69d933AdcD19cA99fe80664fc08":{color:"#CE0E2D",isCurated:!0,name:"CryptoFranc"},"0x6b175474e89094c44da98b954eedeac495271d0f":{color:"#F0B340",isCurated:!0,name:"Dai"},"0x543Ff227F64Aa17eA132Bf9886cAb5DB55DCAddf":{color:"#25292E",isCurated:!0,name:"DAOstack"},"0x0F5D2fB29fb7d3CFeE444a200298f468908cC942":{color:"#FF2D55",isCurated:!0,name:"Decentraland"},"0xe0b7927c4af23765cb51314a0e0521a9645f0e2a":{color:"#E0A83A",isCurated:!0,name:"DigixDAO"},"0x1494ca1f11d487c2bbe4543e90080aeba4ba3c2b":{color:"#8150E6",isCurated:!0,name:"DefiPulse Index"},"0x4f3AfEC4E5a3F2A6a1A411DEF7D7dFe50eE057bF":{color:"#E0A83A",isCurated:!0,name:"Digix Gold"},"0xC0F9bD5Fa5698B6505F643900FFA515Ea5dF54A9":{color:"#F7518B",isCurated:!0,name:"Donut"},"0xF629cBd94d3791C9250152BD8dfBDF380E2a3B9c":{color:"#7866D5",isCurated:!0,name:"Enjin"},"0x80fB784B7eD66730e8b1DBd9820aFD29931aab03":{color:"#109FCA",name:"EthLend",symbol:"LEND"},"0x956f47f50a910163d8bf957cf5846d573e7f87ca":{color:"#22996E",isCurated:!0,name:"Fei USD"},"0x4946Fcea7C692606e8908002e55A582af44AC121":{color:"#D79C93",isCurated:!0,name:"FOAM"},"0x35bd01fc9d6d5d81ca9e055db88dc49aa2c699a8":{isCurated:!0,isVerified:!0,name:"Friends With Benefits Pro",symbol:"FWB"},"0x7d91e637589ec3bb54d8213a9e92dc6e8d12da91":{isVerified:!1,name:"Friends With Benefits (Old)",symbol:"FWB (Old)"},"0x493c57c4763932315a328269e1adad09653b9081":{color:"#0F6AD7",name:"Fulcrum DAI",symbol:"iDAI"},"0x14094949152eddbfcd073717200da82fed8dc960":{color:"#0F6AD7",name:"Fulcrum DAI",symbol:"iSAI"},"0xf013406a0b1d544238083df0b93ad0d2cbe0f65f":{color:"#0F6AD7",name:"Fulcrum USDC",symbol:"iUSDC"},"0x419D0d8BdD9aF5e606Ae2232ed285Aff190E711b":{color:"#E40057",isCurated:!0,name:"FunFair"},"0x6810e776880C02933D47DB1b9fc05908e5386b96":{color:"#00A6C4",isCurated:!0,name:"Gnosis"},"0xa74476443119A942dE498590Fe1f2454d7D4aC0d":{color:"#002D64",isCurated:!0,name:"Golem"},"0xc944e90c64b2c07662a292be6244bdf05cda44a7":{color:"#4068C3",isCurated:!0,name:"The Graph"},"0x12B19D3e2ccc14Da04FAe33e63652ce469b3F2FD":{color:"#53B7E8",isCurated:!0,name:"Grid+"},"0x2b591e99afe9f32eaa6214f7b7629768c40eeb39":{color:"#FF47A9",isCurated:!0,name:"HEX",shadowColor:"#FF9355"},"0x6c6EE5e31d828De241282B9606C8e98Ea48526E2":{color:"#8834FF",isCurated:!0,name:"Holo",symbol:"HOT"},"0x607F4C5BB672230e8672085532f7e901544a7375":{color:"#EBBC2F",isCurated:!0,name:"iExec"},"0x0954906da0bf32d5479e25f46056d22f08464cab":{color:"#75533A",isCurated:!0,name:"Index"},"0xfa5047c9c78b8877af97bdcb85db743fd7313d4a":{color:"#25292E",isCurated:!0,name:"KeeperDAO"},"0x93ED3FBe21207Ec2E8f2d3c3de6e058Cb73Bc04d":{color:"#838285",isCurated:!0,name:"Kleros"},"0xdd974D5C2e2928deA5F71b9825b8b646686BD200":{color:"#31CB9E",isCurated:!0,name:"Kyber"},"0x58b6A8A3302369DAEc383334672404Ee733aB239":{color:"#03E082",isCurated:!0,name:"Livepeer"},"0xA4e8C3Ec456107eA67d3075bF9e3DF3A75823DB0":{color:"#4BC0C8",isCurated:!0,name:"Loom"},"0xBBbbCA6A901c926F240b89EacB641d8Aec7AEafD":{color:"#005FFF",isCurated:!0,name:"Loopring"},"0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2":{color:"#1AAB9B",isCurated:!0,name:"Maker"},"0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0":{color:"#2891F9",isCurated:!0,name:"Matic"},"0xec67005c4E498Ec7f55E092bd1d35cbC47C91892":{color:"#00224D",isCurated:!0,name:"Melon"},"0xaAAf91D9b90dF800Df4F55c205fd6989c977E73a":{color:"#25292E",isCurated:!0,name:"Monolith"},"0xB62132e35a6c13ee1EE0f84dC5d40bad8d815206":{color:"#2891F9",isCurated:!0,name:"Nexo"},"0x1776e1F26f98b1A5dF9cD347953a26dd3Cb46671":{color:"#25292E",isCurated:!0,name:"Numeraire"},"0x45804880de22913dafe09f4980848ece6ecbaf78":{color:"#CBB10E",isCurated:!0,name:"Paxos Gold"},"0x8E870D67F660D95d5be530380D0eC0bd388289E1":{color:"#4EAD46",isCurated:!0,name:"Paxos Standard"},"0x429881672B9AE42b8EbA0E26cD9C73711b891Ca5":{color:"#0FB200",isCurated:!0,name:"Pickle Finance"},"0xe3818504c1b32bf1557b16c238b2e01fd3149c17":{color:"#00BFFF",name:"Pillar"},"0x6758B7d441a9739b98552B373703d8d3d14f9e62":{color:"#5332A0",isCurated:!0,name:"POA",symbol:"POA20"},"0x0cec1a9154ff802e7934fc916ed7ca50bde6844e":{color:"#6E3AF3",isCurated:!0,name:"PoolTogether"},"0x49d716dfe60b37379010a75329ae09428f17118d":{color:"#6E3AF3",name:"PoolTogether Dai"},"0x03ab458634910aad20ef5f1c8ee96f1d6ac54919":{color:"#1FC9A8",isCurated:!0,name:"Rai Reflex Index",shadowColor:"#559889"},"0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6":{color:"#25292E",isCurated:!0,name:"Raiden"},"0xfca59cd816ab1ead66534d82bc21e7515ce441cf":{color:"#F876F2",isCurated:!0,name:"Rarible"},"0x408e41876cCCDC0F92210600ef50372656052a38":{color:"#00224D",isCurated:!0,name:"Ren"},"0xB4EFd85c19999D84251304bDA99E90B92300Bd93":{color:"#FF626D",isCurated:!0,name:"Rocket Pool"},"0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359":{color:"#F0B340",name:"Sai",symbol:"SAI"},"0x06f65b8cfcb13a9fe37d836fe9708da38ecb29b2":{color:"#1CD100",isCurated:!0,name:"Saint Fame"},"0x4156D3342D5c385a87D264F90653733592000581":{color:"#03DBA9",isCurated:!0,name:"SALT"},"0x42d6622deCe394b54999Fbd73D108123806f6a18":{color:"#FF3B81",isCurated:!0,name:"SpankChain"},"0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84":{color:"#56A0DD",isCurated:!0,name:"Staked Ether",shadowColor:"#FF884D",symbol:"stETH"},"0x744d70FDBE2Ba4CF95131626614a1763DF805B9E":{color:"#4360DF",isCurated:!0,name:"Status"},"0xB64ef51C888972c908CFacf59B47C1AfBC0Ab8aC":{color:"#2683FF",isCurated:!0,name:"Storj"},"0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f":{color:"#211580",isCurated:!0,name:"Synthetix"},"0x5e74c9036fb86bd7ecdcb084a0673efc32ea31cb":{color:"#53B267",isCurated:!0,name:"Synthetix ETH"},"0x57ab1ec28d129707052df4df418d58a2d46d5f51":{color:"#25292E",isCurated:!0,name:"Synthetix USD"},"0xdac17f958d2ee523a2206206994597c13d831ec7":{color:"#22A079",isCurated:!0,name:"Tether"},"0xc7283b66eb1eb5fb86327f08e1b5816b0720212b":{color:"#178DD0",isCurated:!0,name:"Tribe"},"0x0000000000085d4780b73119b644ae5ecd22b376":{color:"#002868",isCurated:!0,name:"TrueUSD"},"0x4c19596f5aaff459fa38b0f7ed92f11ae6543784":{name:"TrustToken",symbol:"TRU"},"0x04Fa0d235C4abf4BcF4787aF4CF447DE572eF828":{color:"#FF4A4A",isCurated:!0,name:"UMA"},"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984":{color:"#FD017A",isCurated:!0,name:"Uniswap",shadowColor:"#FDB8DA"},"0x23B608675a2B2fB1890d3ABBd85c5775c51691d5":{color:"#E15EE5",isCurated:!0,name:"Unisocks"},"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48":{color:"#2775CA",isCurated:!0,name:"USD Coin"},"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599":{color:"#FF9900",isCurated:!0,name:"Wrapped Bitcoin"},"0x09fE5f0236F0Ea5D930197DCE254d77B04128075":{color:"#FF8FE5",isCurated:!0,name:"Wrapped CryptoKitties"},"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2":{color:"#25292E",name:"Wrapped Ether"},"0x5dbcf33d8c2e976c6b560249878e6f1491bca25c":{color:"#0072F6",name:"Y Curve Vault",isCurated:!0,symbol:"yUSD"},"0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e":{color:"#0072F6",isCurated:!0,name:"yearn.finance"},"0x0aacfbec6a24756c20d41914f2caba817c0d8521":{color:"#B2364F",isCurated:!0,name:"YAM",shadowColor:"#D09AAC",symbol:"YAM"},"0x0e2298E3B3390e3b945a5456fBf59eCc3f55DA16":{color:"#B2364F",name:"YAMv1",shadowColor:"#D09AAC",symbol:"YAMv1"},"0xaba8cac6866b83ae4eec97dd07ed254282f6ad8a":{color:"#B2364F",name:"YAMv2",shadowColor:"#D09AAC",symbol:"YAMv2"},"0x69bbc3f8787d573f1bbdd0a5f40c7ba0aee9bcc9":{color:"#393939",name:"Yup",shadowColor:"#BFBEBE",symbol:"YUP"}};function ae(){return ce.apply(this,arguments)}function ce(){return(ce=R(M.mark((function e(){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C(ne,(function(){return"eth"===(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:h.getAddress(arguments.length<=1?void 0:arguments[1])})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return se.apply(this,arguments)}function se(){return(se=R(M.mark((function e(){var r,t;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("metamask/eth-contract-metadata");case 2:return r=f.resolve(e.sent,"contract-map.json"),e.next=6,G(r);case 6:return t=e.sent,e.abrupt("return",Object.keys(t).map((function(e){return U({},t[e],{address:e})})).map((function(e){return u(e,Object.keys(L.shape))})).filter((function(e){return Object.values(e).some(A)})).map(K));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue="mikedemarais/react-coin-icon/assets/overrides";function le(){return de.apply(this,arguments)}function de(){return(de=R(M.mark((function e(){var r;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("spothq/cryptocurrency-icons");case 2:return r=f.resolve(e.sent,"manifest.json"),e.abrupt("return",G(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(){return pe.apply(this,arguments)}function pe(){return(pe=R(M.mark((function e(){var r,t;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(ue);case 2:return r=e.sent,t=function(){var e=R(M.mark((function e(r){var t,o;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.promises.readFile(r,"utf8");case 2:return t=E(e.sent).fills[0],o=void 0,t?o={symbol:r.split(".")[0].toUpperCase(),color:y(t.hex().toLowerCase())}:console.error('Couldn\'t derive color from the "rainbow override" SVG file: `'+r+"`"),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e.next=6,Z({dir:r,fileMap:t});case 6:return e.abrupt("return",v(e.sent));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){return be.apply(this,arguments)}function be(){return(be=R(M.mark((function e(){var r;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:return r=e.sent,e.next=5,fe();case 5:return e.abrupt("return",x(r,e.sent,"symbol"));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){return e.reduce((function(e,r){return Object.assign(r,e)}),{})}var Ce=r.object({tags:r.any().array().optional(),tokens:r.any().array().optional()}),Ae=r.record(Ce),ve=function(e,r){return e.filter((function(e){var t=e.tags;return!(void 0===t?[]:t).includes(r)}))},xe=function(e,r){return e.filter((function(e){var t=e.tags;return(void 0===t?[]:t).includes(r)}))},Ee=g.enum,ye=Ee.aave,Fe=Ee.roll;function De(){return Be.apply(this,arguments)}function Be(){return(Be=R(M.mark((function e(){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(g.options.map(function(){var e=R(M.mark((function e(r){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=R(M.mark((function e(t,o){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(w[r]).then((function(e){return e.json()})).then((function(e){var o;return t(((o={})[r]={tags:e.tags,tokens:e.tokens},o))})).catch(o));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",he(e.sent.map((function(e){var r=Object.keys(e)[0],t=U({},e);return r===Fe&&(t[Fe].tokens=ve(t[Fe].tokens,"bases")),r===ye&&(t[ye].tokens=[].concat(xe(t[ye].tokens,"atokenv1"),xe(t[ye].tokens,"atokenv2"))),t}))));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return t.keyBy(e,(function(e){return h.getAddress(e.address)}))}function ge(){return ke.apply(this,arguments)}function ke(){return(ke=R(M.mark((function e(){var r,o,n,a,c,i,s,u,l,d,f,p,m,b,C;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b=function(){return p.map((function(e){var o=m(e),a=r[e],c=o.chainId,i=void 0===c?1:c,s=o.color,u=o.decimals,l=o.name,f=o.shadowColor,p=o.symbol,b=d.preferred.map(Object.keys).flat().includes(e);if(b){var h=n.find((function(e){return e.symbol===p}));s=null==h?void 0:h.color}var C={color:(null==a?void 0:a.color)||s,isRainbowCurated:!(null==a||!a.isCurated)||void 0,isVerified:!!(b||null!=a&&a.isCurated)||!(null==a||!a.isVerified)||void 0,shadowColor:(null==a?void 0:a.shadowColor)||f};return H(U({address:e,chainId:i,decimals:u,name:(null==a?void 0:a.name)||l,symbol:(null==a?void 0:a.symbol)||p},t.compact(Object.values(C)).length?{extensions:C}:void 0))}))},m=function(e){function r(r){return t.toLower(r.address)===t.toLower(e)}var o=t.pick(a,Object.keys(a).filter((function(e){return t.some(a[e].tokens,r)})));if(1===Object.keys(o).length)return t.find(o[Object.keys(o)[0]].tokens,r);if(Object.keys(o).length>1){var n=Object.keys(o);if(n.includes(g.enum.synthetix))return t.find(o.synthetix.tokens,r);if(n.includes(g.enum.aave))return t.find(o.aave.tokens,r);if(n.includes(g.enum.roll))return t.find(o.roll.tokens,r);if(n.includes(g.enum.dharma))return t.find(o.dharma.tokens,r);if(n.includes(g.enum.kleros))return t.find(o.kleros.tokens,r);if(n.includes(g.enum.wrapped))return t.find(o.wrapped.tokens,r);if(n.includes(g.enum.coingecko))return t.find(o.coingecko.tokens,r)}return f[e]},e.next=4,ae();case 4:return r=e.sent,e.next=7,ie();case 7:return o=e.sent,e.next=10,me();case 10:return n=e.sent,e.next=13,De();case 13:return a=e.sent,e.next=16,te();case 16:return i=(c=e.sent)[0],s=c[1],u=a.coingecko,l=P(a,["coingecko"]),d={default:[s,i,o,u.tokens.flat()].map(we),preferred:[Object.values(l).map((function(e){return e.tokens})).flat()].map(we)},f=t.merge.apply(void 0,[{}].concat(d.default)),p=t.uniq(t.compact([].concat(d.default.map(Object.keys).flat(),d.preferred.map(Object.keys).flat())).map(h.getAddress)),e.next=25,W(b());case 25:return C=e.sent,console.log('# of "isRainbowCurated" tokens: ',t.filter(C,t.matchesProperty("extensions.isRainbowCurated",!0)).length),console.log('# of "isVerified" tokens: ',t.filter(C,t.matchesProperty("extensions.isVerified",!0)).length),e.abrupt("return",C);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(){return(Se=R(M.mark((function e(){var r;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:return r=e.sent,e.next=5,X({name:"Rainbow Token List",timestamp:(new Date).toISOString(),logoURI:"https://avatars0.githubusercontent.com/u/48327834?s=200&v=4",version:{major:1,minor:2,patch:1},keywords:["rainbow"],tokens:r},f.resolve(process.cwd(),"./output"),"rainbow-token-list.json");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}process.env.NODE_TLS_REJECT_UNAUTHORIZED="0",exports.SVG_ORIGINALS_REPO="spothq/cryptocurrency-icons",exports.SVG_OVERRIDES_REPO=ue,exports.TokenListStore=Ce,exports.TokenListStoreRecord=Ae,exports.Types=N,exports.build=ge,exports.createOutputFolder=Y,exports.deeplyTrimAllTokenStrings=H,exports.parseEthereumListsTokenFiles=ee,exports.parseJsonFile=G,exports.partitionByUniqueness=z,exports.reduceArrayToObject=he,exports.resolveDeprecations=Q,exports.sortTokens=W,exports.validateTokenData=K,exports.write=function(){return Se.apply(this,arguments)},exports.writeToDisk=X;
//# sourceMappingURL=rainbow-token-list-test.cjs.production.min.js.map
